(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};((e,t,r)=>{const a=require("path");var l=r.n(a);const o=require("url");var n=r.n(o);const i=require("electron"),s={label:"App",submenu:[{label:"Quit",accelerator:"CmdOrCtrl+Q",click:()=>{i.app.quit()}}]},c={label:"Edit",submenu:[{label:"Undo",accelerator:"CmdOrCtrl+Z",selector:"undo:"},{label:"Redo",accelerator:"Shift+CmdOrCtrl+Z",selector:"redo:"},{type:"separator"},{label:"Cut",accelerator:"CmdOrCtrl+X",selector:"cut:"},{label:"Copy",accelerator:"CmdOrCtrl+C",selector:"copy:"},{label:"Paste",accelerator:"CmdOrCtrl+V",selector:"paste:"},{label:"Select All",accelerator:"CmdOrCtrl+A",selector:"selectAll:"}]},p=require("fs-jetpack");var d=r.n(p);i.app.on("ready",(()=>{(()=>{const e=[s,c];i.Menu.setApplicationMenu(i.Menu.buildFromTemplate(e))})(),i.ipcMain.on("need-app-path",((e,t)=>{e.reply("app-path",i.app.getAppPath())})),i.ipcMain.on("open-external-link",((e,t)=>{i.shell.openExternal(t)}));const e=((e,t)=>{const r=d().cwd(i.app.getPath("userData")),a=`window-state-${e}.json`,l={width:t.width,height:t.height};let o,n={};var s;return s=(()=>{let e={};try{e=r.read(a,"json")}catch(e){}return Object.assign({},l,e)})(),n=i.screen.getAllDisplays().some((e=>((e,t)=>e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height)(s,e.bounds)))?s:(()=>{const e=i.screen.getPrimaryDisplay().bounds;return Object.assign({},l,{x:(e.width-l.width)/2,y:(e.height-l.height)/2})})(),o=new i.BrowserWindow(Object.assign({},t,n)),o.on("close",(()=>{o.isMinimized()||o.isMaximized()||Object.assign(n,(()=>{const e=o.getPosition(),t=o.getSize();return{x:e[0],y:e[1],width:t[0],height:t[1]}})()),r.write(a,n,{atomic:!0})})),o})("main",{width:1e3,height:600,webPreferences:{nodeIntegration:!0,contextIsolation:!1,enableRemoteModule:!1}});e.loadURL(n().format({pathname:l().join(__dirname,"dist","index.html"),protocol:"file:",slashes:!0}))})),i.app.on("window-all-closed",(()=>{i.app.quit()}))})(0,0,e)})();
//# sourceMappingURL=main.js.map